{"is_source_file": true, "format": "Python", "description": "This file defines the JiraConnector class, which implements authentication, token management, and interaction with Jira's API. It includes FastAPI route handlers for listing projects and creating issues, along with methods for OAuth login and callback handling, token refresh, and connection management.", "external_files": ["src.connectors.base", "src.core.db", "src.core.logging", "src.core.security", "src.core.settings", "src.core.token_store", "src.core.tenants", "src.core.response", "src.core.api_models", ".client", ".mapping"], "external_methods": ["generate_pkce", "verify_csrf_state", "compute_expiry", "ok", "auth_required_error", "config_required_error", "normalize_upstream_error", "validation_error"], "published": ["get_router", "factory"], "classes": [{"name": "JiraConnector", "description": "A specialized connector class for managing OAuth flow, token storage, and API interaction with Jira."}], "methods": [{"name": "Dict[str,Any] get_public_info(self)", "description": "Returns basic info about the Jira connector, including its ID and name.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "OAuthLoginResponse oauth_login(self, redirect_to: Optional[str] = None)", "description": "Creates an OAuth authorization URL with PKCE and CSRF protection, and stores ephemeral OAuth session data.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "oauth_callback(self, code: str, state: Optional[str])", "description": "Handles the OAuth callback, exchanging authorization code for tokens, and fetching the Jira cloud ID.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "Dict[str,Any] search(self, params: SearchParams)", "description": "Performs a search query on Jira issues based on search parameters, returning normalized results.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "connect(self)", "description": "Verifies if the connector has valid OAuth tokens and is therefore connected.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "disconnect(self)", "description": "Removes stored tokens and session data, disconnecting the Jira integration.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "__init__(self, tenant_id: str)", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "tuple[Optional[str],Optional[str]] _get_token_and_cloud_id(connector: \"JiraConnector\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "create_issue(payload: JiraIssueCreateModel, tenant_id: str = Depends(get_tenant_id))", "scope": "get_router", "scopeKind": "function", "description": "unavailable"}, {"name": "JiraConnector factory(tenant_id: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "APIRouter get_router()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_projects(tenant_id: str = Depends(get_tenant_id), page: int = Query(1, ge=1), per_page: int = Query(50, ge=1, le=100))", "scope": "get_router", "scopeKind": "function", "description": "unavailable"}], "calls": ["urlencode", "get_settings", "TokenStore.save_tokens", "TokenStore.get_tokens", "TokenStore.get_decrypted_access", "JiraClient.search_issues", "JiraClient.list_projects", "JiraClient.create_issue"], "search-terms": ["JiraOAuth", "OAuth flow", "token management", "project listing", "issue creation", "APIRouter", "FastAPI routes", "tenant_id"], "state": 2, "file_id": 15, "knowledge_revision": 102, "git_revision": "7d15ced419e8f88a8eb26d6e8f636ff1ac2ce571", "revision_history": [{"31": ""}, {"48": "d003e778e8476d42a3bfd185a6f01fbb63bf40e2"}, {"53": "966bfcc341fc3ee3996957361265b65bdb2f1ce9"}, {"54": "966bfcc341fc3ee3996957361265b65bdb2f1ce9"}, {"66": "379774def9059dafe18d2301fc45048fa432be1e"}, {"70": "35f8cee06127abfa45ba15d76ea15219c4e0d3bf"}, {"77": "35f8cee06127abfa45ba15d76ea15219c4e0d3bf"}, {"93": "ea3bdc0fda379c4dbdfc49343a5a785c136c2316"}, {"94": "ea3bdc0fda379c4dbdfc49343a5a785c136c2316"}, {"95": "ea3bdc0fda379c4dbdfc49343a5a785c136c2316"}, {"102": "7d15ced419e8f88a8eb26d6e8f636ff1ac2ce571"}], "ctags": [{"_type": "tag", "name": "JiraConnector", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^class JiraConnector(BaseConnector):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    def __init__(self, tenant_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, tenant_id: str)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "_get_token_and_cloud_id", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^def _get_token_and_cloud_id(connector: \"JiraConnector\") -> tuple[Optional[str], Optional[str]]:$/", "language": "Python", "typeref": "typename:tuple[Optional[str],Optional[str]]", "kind": "function", "signature": "(connector: \"JiraConnector\")"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def connect(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "create_issue", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def create_issue(payload: JiraIssueCreateModel, tenant_id: str = Depends(get_tenant_id/", "file": true, "language": "Python", "kind": "function", "signature": "(payload: JiraIssueCreateModel, tenant_id: str = Depends(get_tenant_id))", "scope": "get_router", "scopeKind": "function"}, {"_type": "tag", "name": "disconnect", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def disconnect(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "factory", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^def factory(tenant_id: str) -> JiraConnector:$/", "language": "Python", "typeref": "typename:JiraConnector", "kind": "function", "signature": "(tenant_id: str)"}, {"_type": "tag", "name": "get_public_info", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    def get_public_info(self) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "get_router", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^def get_router() -> APIRouter:$/", "language": "Python", "typeref": "typename:APIRouter", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    id = \"jira\"$/", "language": "Python", "kind": "variable", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "list_projects", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def list_projects(tenant_id: str = Depends(get_tenant_id), page: int = Query(1, ge=1),/", "file": true, "language": "Python", "kind": "function", "signature": "(tenant_id: str = Depends(get_tenant_id), page: int = Query(1, ge=1), per_page: int = Query(50, ge=1, le=100))", "scope": "get_router", "scopeKind": "function"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^logger = get_logger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    name = \"Jira\"$/", "language": "Python", "kind": "variable", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "oauth_callback", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def oauth_callback(self, code: str, state: Optional[str]):$/", "language": "Python", "kind": "member", "signature": "(self, code: str, state: Optional[str])", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "oauth_login", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def oauth_login(self, redirect_to: Optional[str] = None) -> OAuthLoginResponse:$/", "language": "Python", "typeref": "typename:OAuthLoginResponse", "kind": "member", "signature": "(self, redirect_to: Optional[str] = None)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/src/connectors/jira/router.py", "pattern": "/^    async def search(self, params: SearchParams) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, params: SearchParams)", "scope": "JiraConnector", "scopeKind": "class"}], "hash": "0ce4e9e4f6f0e214b74e6770106c902c", "format-version": 4, "code-base-name": "unified_connector_backend", "filename": "unified_connector_backend/src/connectors/jira/router.py", "fields": [{"name": "id = \"jira\"", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "logger = get_logger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "name = \"Jira\"", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}
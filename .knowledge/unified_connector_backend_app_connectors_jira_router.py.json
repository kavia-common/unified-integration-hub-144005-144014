{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI routes and classes for Jira OAuth integration, issue search, and creation. It includes route handlers for OAuth login and callback, issue search, and issue creation, as well as a JiraConnector class implementing the corresponding methods. The file registers the JiraConnector and API router, making Jira connectivity available within the larger application.", "external_files": ["...connectors/base", ".client", "...connectors/registry", "...utils/errors"], "external_methods": ["build_authorize_url", "exchange_code_for_tokens", "search_issues", "create_issue", "register", "http_error"], "published": ["router", "JiraConnector", "OAuthLoginResponse", "SearchResponse", "CreateIssueBody"], "classes": [{"name": "JiraConnector", "description": "A connector class for Jira, supporting OAuth authorization, issue search, and issue creation, implementing the BaseConnector interface."}, {"name": "OAuthLoginResponse", "description": "Model for OAuth login URL response containing authorization URL and state."}, {"name": "SearchResponse", "description": "Model for the Jira issue search results."}, {"name": "CreateIssueBody", "description": "Model for the request body to create a new Jira issue, containing project key, summary, description, and issue type."}], "methods": [{"name": "get_tenant_id()", "description": "Returns a static tenant ID string used for OAuth flows.", "scope": "", "scopeKind": ""}, {"name": "oauth_login(tenant_id: str = Depends(get_tenant_id), return_url: bool = True)", "description": "Generates the Jira OAuth authorization URL with a state parameter.", "scope": "", "scopeKind": ""}, {"name": "oauth_callback(state: str, code: str, tenant_id: str = Depends(get_tenant_id))", "description": "Handles OAuth callback, exchanges code for tokens, ensuring CSRF protection.", "scope": "", "scopeKind": ""}, {"name": "search(self, tenant_id: str, query: str, resource: str, page: int = 1, per_page: int = 20)", "description": "Performs a Jira issue search based on a query string, resource resource type, pagination, and tenant ID.", "scope": "JiraConnector", "scopeKind": "class"}, {"name": "create_issue_route(body: CreateIssueBody, tenant_id: str = Depends(get_tenant_id))", "description": "Creates a new Jira issue based on provided data.", "scope": "", "scopeKind": ""}, {"name": "create(self, tenant_id: str, resource: str, payload: dict)", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "oauth_authorize_url(self, tenant_id: str, state: str)", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "oauth_exchange(self, tenant_id: str, code: str, state: str)", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "search(q: str = Query(..., alias=\"q\"), resource: str = \"issue\", page: int = 1, per_page: int = 20, tenant_id: str = Depends(get_tenant_id))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["build_authorize_url", "exchange_code_for_tokens", "search_issues", "create_issue", "register", "http_error"], "search-terms": ["Jira OAuth", "issue search", "issue creation", "OAuth callback", "JiraConnector class", "APIRouter", "fastapi routes", "register function"], "state": 2, "file_id": 14, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "CreateIssueBody", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^class CreateIssueBody(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "JiraConnector", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^class JiraConnector(BaseConnector):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OAuthLoginResponse", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^class OAuthLoginResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SearchResponse", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^class SearchResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "authorize_url", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    authorize_url: str = Field(..., description=\"Provider authorization URL\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "OAuthLoginResponse", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    async def create(self, tenant_id: str, resource: str, payload: dict):$/", "language": "Python", "kind": "member", "signature": "(self, tenant_id: str, resource: str, payload: dict)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "create_issue_route", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^async def create_issue_route(body: CreateIssueBody, tenant_id: str = Depends(get_tenant_id)):$/", "language": "Python", "kind": "function", "signature": "(body: CreateIssueBody, tenant_id: str = Depends(get_tenant_id))"}, {"_type": "tag", "name": "display_name", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    display_name = \"Jira\"$/", "language": "Python", "kind": "variable", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "get_tenant_id", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^def get_tenant_id():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    id = \"jira\"$/", "language": "Python", "kind": "variable", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    items: list[dict] = Field(default_factory=list)$/", "language": "Python", "typeref": "typename:list[dict]", "kind": "variable", "scope": "SearchResponse", "scopeKind": "class"}, {"_type": "tag", "name": "oauth_authorize_url", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    async def oauth_authorize_url(self, tenant_id: str, state: str):$/", "language": "Python", "kind": "member", "signature": "(self, tenant_id: str, state: str)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "oauth_callback", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^async def oauth_callback(state: str, code: str, tenant_id: str = Depends(get_tenant_id)):$/", "language": "Python", "kind": "function", "signature": "(state: str, code: str, tenant_id: str = Depends(get_tenant_id))"}, {"_type": "tag", "name": "oauth_exchange", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    async def oauth_exchange(self, tenant_id: str, code: str, state: str):$/", "language": "Python", "kind": "member", "signature": "(self, tenant_id: str, code: str, state: str)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "oauth_login", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^async def oauth_login(tenant_id: str = Depends(get_tenant_id), return_url: bool = True):$/", "language": "Python", "kind": "function", "signature": "(tenant_id: str = Depends(get_tenant_id), return_url: bool = True)"}, {"_type": "tag", "name": "required_scopes", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    required_scopes = JIRA_SCOPES$/", "language": "Python", "kind": "variable", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    async def search(self, tenant_id: str, query: str, resource: str, page: int = 1, per_page: i/", "language": "Python", "kind": "member", "signature": "(self, tenant_id: str, query: str, resource: str, page: int = 1, per_page: int = 20)", "scope": "JiraConnector", "scopeKind": "class"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^async def search(q: str = Query(..., alias=\"q\"), resource: str = \"issue\", page: int = 1, per_pag/", "language": "Python", "kind": "function", "signature": "(q: str = Query(..., alias=\"q\"), resource: str = \"issue\", page: int = 1, per_page: int = 20, tenant_id: str = Depends(get_tenant_id))"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    state: str = Field(..., description=\"Opaque state value\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "OAuthLoginResponse", "scopeKind": "class"}, {"_type": "tag", "name": "supports_oauth", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/jira/router.py", "pattern": "/^    supports_oauth = True$/", "language": "Python", "kind": "variable", "scope": "JiraConnector", "scopeKind": "class"}], "hash": "cc7b9566a0df4af59872b3fe8ab556e5", "format-version": 4, "code-base-name": "unified_connector_backend", "filename": "unified_connector_backend/app/connectors/jira/router.py", "fields": [{"name": "str authorize_url", "scope": "OAuthLoginResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "display_name = \"Jira\"", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "id = \"jira\"", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "list[dict] items", "scope": "SearchResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "required_scopes = JIRA_SCOPES", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str state", "scope": "OAuthLoginResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "supports_oauth = True", "scope": "JiraConnector", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"28": ""}]}
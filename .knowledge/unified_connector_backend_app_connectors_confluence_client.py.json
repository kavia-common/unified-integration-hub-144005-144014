{"is_source_file": true, "format": "Python", "description": "This file contains client utility functions for interacting with Atlassian Confluence API, including authentication, page search, and creation functionalities, utilizing async HTTP requests.", "external_files": [".../repositories/connections_repo.py", ".../models/connection.py", ".../core/config.py", "datetime", "httpx"], "external_methods": ["get_connection", "upsert_connection"], "published": ["build_authorize_url", "exchange_code_for_tokens", "search_pages", "create_page"], "classes": [{"name": "Connection", "description": "Represents a stored connection with credentials and metadata for a specific tenant."}, {"name": "Credentials", "description": "Contains authentication tokens and related site URL for a stored connection."}], "methods": [{"name": "Dict[str,str] _headers(token: str)", "description": "Constructs HTTP headers with authorization token and JSON content type.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] build_authorize_url(state: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] create_page(tenant_id: str, payload: Dict[str, Any])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] exchange_code_for_tokens(tenant_id: str, code: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] search_pages(tenant_id: str, query: str, page: int = 1, per_page: int = 20)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["httpx.AsyncClient", "resp.raise_for_status", "resp.json", "upsert_connection", "get_connection"], "search-terms": ["confluence OAuth", "async confluence search", "create confluence page", "confluence connection"], "state": 2, "file_id": 15, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "ATL_AUTH_URL", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^ATL_AUTH_URL = \"https:\\/\\/auth.atlassian.com\\/authorize\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ATL_TOKEN_URL", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^ATL_TOKEN_URL = \"https:\\/\\/auth.atlassian.com\\/oauth\\/token\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CLOUD_API", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^CLOUD_API = \"https:\\/\\/api.atlassian.com\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "CONF_SCOPES", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^CONF_SCOPES = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_headers", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^def _headers(token: str) -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "function", "signature": "(token: str)"}, {"_type": "tag", "name": "build_authorize_url", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^async def build_authorize_url(state: str) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(state: str)"}, {"_type": "tag", "name": "create_page", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^async def create_page(tenant_id: str, payload: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(tenant_id: str, payload: Dict[str, Any])"}, {"_type": "tag", "name": "exchange_code_for_tokens", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^async def exchange_code_for_tokens(tenant_id: str, code: str) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(tenant_id: str, code: str)"}, {"_type": "tag", "name": "search_pages", "path": "/home/kavia/workspace/code-generation/unified-integration-hub-144005-144014/unified_connector_backend/app/connectors/confluence/client.py", "pattern": "/^async def search_pages(tenant_id: str, query: str, page: int = 1, per_page: int = 20) -> Dict[st/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(tenant_id: str, query: str, page: int = 1, per_page: int = 20)"}], "hash": "e1e280ea3d094aa99b57a20bba9adf06", "format-version": 4, "code-base-name": "unified_connector_backend", "filename": "unified_connector_backend/app/connectors/confluence/client.py", "fields": [{"name": "ATL_AUTH_URL = \"https:\\/\\/auth.atlassian.com\\/authorize\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ATL_TOKEN_URL = \"https:\\/\\/auth.atlassian.com\\/oauth\\/token\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CLOUD_API = \"https:\\/\\/api.atlassian.com\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "CONF_SCOPES = [", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"30": ""}]}